<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä»£å¸æ•°æ®æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 50px auto;
            padding: 20px;
            background: #121212;
            color: #fff;
        }
        .card {
            background: #1e1e1e;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .data-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #333;
        }
        .label {
            color: #999;
        }
        .value {
            font-weight: bold;
        }
        .positive {
            color: #4caf50;
        }
        .negative {
            color: #f44336;
        }
        button {
            background: #3ddc84;
            color: #000;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background: #46f092;
        }
        #loading {
            text-align: center;
            padding: 40px;
        }
    </style>
</head>
<body>
    <h1>ğŸ¯ TrendHunter - å®æ—¶ä»£å¸æ•°æ®æµ‹è¯•</h1>
    
    <div class="card">
        <h2>ç´¢æ‹‰æ‹‰ (SOLA)</h2>
        <p style="color: #666; font-size: 12px; word-break: break-all;">
            CA: CY1P83KnKwFYostvjQcoR2HJLyEJWRBRaVQmYyyD3cR8
        </p>
        
        <div id="loading">åŠ è½½ä¸­...</div>
        
        <div id="tokenData" style="display: none;">
            <div class="data-row">
                <span class="label">å½“å‰ä»·æ ¼</span>
                <span class="value" id="price">-</span>
            </div>
            <div class="data-row">
                <span class="label">24å°æ—¶æ¶¨è·Œ</span>
                <span class="value" id="priceChange">-</span>
            </div>
            <div class="data-row">
                <span class="label">å¸‚å€¼</span>
                <span class="value" id="marketCap">-</span>
            </div>
            <div class="data-row">
                <span class="label">æµåŠ¨æ€§</span>
                <span class="value" id="liquidity">-</span>
            </div>
            <div class="data-row">
                <span class="label">24å°æ—¶äº¤æ˜“é‡</span>
                <span class="value" id="volume">-</span>
            </div>
            <div class="data-row">
                <span class="label">DEX</span>
                <span class="value" id="dex">-</span>
            </div>
        </div>
        
        <div style="margin-top: 20px; text-align: center;">
            <button onclick="loadData()">ğŸ”„ åˆ·æ–°æ•°æ®</button>
            <span id="lastUpdate" style="margin-left: 20px; color: #666; font-size: 12px;"></span>
        </div>
    </div>
    
    <div class="card">
        <h3>ğŸ“¡ æ•°æ®æ¥æº</h3>
        <p>âœ… Birdeye API (ä»·æ ¼ã€æ¶¨è·Œ)</p>
        <p>âœ… DexScreener API (å¸‚å€¼ã€æµåŠ¨æ€§ã€äº¤æ˜“é‡)</p>
        <p>ğŸ”„ è‡ªåŠ¨åˆ·æ–°: æ¯30ç§’</p>
    </div>

    <script>
        let autoRefreshInterval;
        
        async function loadData() {
            try {
                const response = await fetch('http://localhost:3000/api/demo/test-token');
                const result = await response.json();
                
                if (result.success && result.data) {
                    const data = result.data;
                    
                    // æ›´æ–°UI
                    document.getElementById('price').textContent = `$${data.price?.toFixed(6) || 0}`;
                    
                    const priceChange = data.priceChange24h || 0;
                    const priceChangeEl = document.getElementById('priceChange');
                    priceChangeEl.textContent = `${priceChange >= 0 ? '+' : ''}${priceChange.toFixed(2)}%`;
                    priceChangeEl.className = `value ${priceChange >= 0 ? 'positive' : 'negative'}`;
                    
                    document.getElementById('marketCap').textContent = `$${data.marketCap?.toLocaleString() || 0}`;
                    document.getElementById('liquidity').textContent = `$${data.liquidity?.toLocaleString() || 0}`;
                    document.getElementById('volume').textContent = `$${data.volume24h?.toLocaleString() || 0}`;
                    document.getElementById('dex').textContent = data.dex?.toUpperCase() || 'Unknown';
                    
                    document.getElementById('loading').style.display = 'none';
                    document.getElementById('tokenData').style.display = 'block';
                    
                    const now = new Date().toLocaleTimeString('zh-CN');
                    document.getElementById('lastUpdate').textContent = `æœ€åæ›´æ–°: ${now}`;
                    
                    console.log('âœ… æ•°æ®åŠ è½½æˆåŠŸ:', data);
                } else {
                    document.getElementById('loading').textContent = 'âŒ åŠ è½½å¤±è´¥';
                }
            } catch (error) {
                console.error('åŠ è½½å¤±è´¥:', error);
                document.getElementById('loading').textContent = 'âŒ æ— æ³•è¿æ¥åˆ°åç«¯';
            }
        }
        
        // é¡µé¢åŠ è½½æ—¶è·å–æ•°æ®
        loadData();
        
        // æ¯30ç§’è‡ªåŠ¨åˆ·æ–°
        autoRefreshInterval = setInterval(loadData, 30000);
        
        console.log('ğŸš€ æµ‹è¯•é¡µé¢å·²åŠ è½½');
        console.log('ğŸ“¡ åç«¯API: http://localhost:3000/api/demo/test-token');
    </script>
</body>
</html>

